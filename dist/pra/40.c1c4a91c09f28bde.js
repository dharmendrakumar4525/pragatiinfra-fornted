"use strict";(self.webpackChunkpra=self.webpackChunkpra||[]).push([[40],{4040:(Dt,y,p)=>{p.r(y),p.d(y,{RateApprovalModule:()=>Qt});var u=p(6895),r=p(4006),_=p(8608),q=p(7489),b=p(2340),t=p(4650),A=p(2126),C=p(6104),U=p(529),f=p(9299),w=p(3238),Z=p(9549),x=p(9602),k=p(4850),R=p(7392),P=p(4144),M=p(4385),O=p(3683);function J(o,a){if(1&o&&(t.TgZ(0,"mat-option",41),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.label)}}const L=function(o){return["/rate-approval/update",o]};function V(o,a){if(1&o&&(t.TgZ(0,"td",52),t._uU(1,"Approve \xa0Rates"),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,L,e._id))}}const I=function(o){return["/rate-comparative/details",o]};function D(o,a){if(1&o&&(t.TgZ(0,"td",53),t._uU(1,"Approved Vendors"),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,I,e._id))}}function Y(o,a){if(1&o&&(t.TgZ(0,"td",54),t._uU(1,"Rejected Rates"),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,I,e._id))}}function F(o,a){if(1&o&&(t.TgZ(0,"td",55),t._uU(1,"Revise \xa0Rates"),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,L,e._id))}}function j(o,a){if(1&o&&(t.TgZ(0,"tr")(1,"td",42),t._uU(2,"Request\xa0no\xa0 "),t.TgZ(3,"span",43),t._uU(4),t.qZA()(),t._UZ(5,"hr",44),t.TgZ(6,"td",45),t._uU(7,"Title\xa0"),t.TgZ(8,"span",43),t._uU(9),t.qZA()(),t._UZ(10,"hr",44),t.TgZ(11,"td",46),t._uU(12," Site\xa0"),t.TgZ(13,"span",43),t._uU(14),t.qZA()(),t.YNc(15,V,2,3,"td",47),t.YNc(16,D,2,3,"td",48),t.YNc(17,Y,2,3,"td",49),t.YNc(18,F,2,3,"td",50),t.TgZ(19,"td",51)(20,"mat-icon"),t._uU(21," arrow_forward_ios "),t.qZA()()()),2&o){const e=a.$implicit,n=t.oxw(2);t.xp6(4),t.Oqu(n.reqNo(e.purchase_request_id)),t.xp6(5),t.Oqu(e.title),t.xp6(5),t.Oqu(e.siteData.site_name),t.xp6(1),t.Q6J("ngIf","pending"==e.status),t.xp6(1),t.Q6J("ngIf","approved"==e.status),t.xp6(1),t.Q6J("ngIf","rejected"==e.status),t.xp6(1),t.Q6J("ngIf","revise"==e.status)}}function B(o,a){1&o&&(t.TgZ(0,"div",56),t._UZ(1,"img",57),t.TgZ(2,"span"),t._uU(3," No record found"),t.qZA()())}function S(o,a){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19)(2,"div",20)(3,"mat-form-field",21)(4,"mat-icon",22),t._uU(5,"search"),t.qZA(),t.TgZ(6,"input",23),t.NdJ("input",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.search(i,"title"))}),t.qZA()()(),t.TgZ(7,"div",24)(8,"div",25)(9,"span"),t._uU(10,"Filter\xa0by"),t.qZA()(),t.TgZ(11,"div")(12,"mat-form-field",26)(13,"input",27),t.NdJ("click",function(){t.CHM(e);const i=t.MAs(16);return t.KtG(i.open())})("dateChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.dateFilter(i))}),t.qZA(),t._UZ(14,"mat-datepicker-toggle",28)(15,"mat-datepicker",null,29),t.qZA()()(),t.TgZ(17,"div",30)(18,"div",31)(19,"span"),t._uU(20,"Filter\xa0by"),t.qZA()(),t.TgZ(21,"div")(22,"mat-form-field",26)(23,"input",32),t.NdJ("input",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.search(i,"site"))}),t.qZA()()()(),t.TgZ(24,"div",30)(25,"div",31)(26,"span"),t._uU(27,"Filter by Status"),t.qZA()(),t.TgZ(28,"div",33)(29,"mat-form-field",34)(30,"mat-select",35),t.NdJ("selectionChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.onStatusChange(i))}),t.YNc(31,J,2,2,"mat-option",36),t.qZA()()()()(),t.TgZ(32,"div",37)(33,"table",38)(34,"tbody"),t.YNc(35,j,22,7,"tr",39),t.qZA()(),t.YNc(36,B,4,0,"div",40),t.qZA(),t.BQk()}if(2&o){const e=t.MAs(16),n=t.oxw();t.xp6(13),t.Q6J("matDatepicker",e),t.xp6(1),t.Q6J("for",e),t.xp6(16),t.Q6J("formControl",n.statusOption),t.xp6(1),t.Q6J("ngForOf",n.statusList),t.xp6(4),t.Q6J("ngForOf",n.rateComparativeList),t.xp6(1),t.Q6J("ngIf",!(n.rateComparativeList&&n.rateComparativeList.length>0))}}function z(o,a){1&o&&(t.TgZ(0,"h3",58),t._uU(1,"You don't have permissions to view."),t.qZA())}const $=function(){return["/procurement"]},E=function(){return["/procurement/prlist"]},G=function(){return["/rate-comparative"]},K=function(){return["/rate-approval"]},H=function(){return["/purchase-order"]};let W=(()=>{class o{constructor(e,n,i){this.httpService=e,this.snack=n,this.http=i,this.statusOption=new r.NI("pending"),this.statusList=[{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"},{value:"revise",label:"Revise"}],this.filter_by="status",this.filter_value="pending",this.requestType="new",this.originalRateComparativeList=[],this.purchaseList=[],this.getList({filter_by:this.filter_by,filter_value:this.filter_value,stage:"rate_approval"})}getList(e){this.httpService.GET(_.lu,e).subscribe({next:n=>{console.log(n),this.originalRateComparativeList=n.data,this.rateComparativeList=n.data},error:n=>{if(n.errors&&!(0,q.isEmpty)(n.errors)){let i="<ul>";for(let s in n.errors)i+=`<li>${n.errors[s][0]}</li>`;i+="</ul>",this.snack.notifyHtml(i,2)}else this.snack.notify(n.message,2)}})}onStatusChange(e){this.getList({filter_by:this.filter_by,filter_value:e.value,stage:"rate_approval"})}dateFilter(e){this.originalRateComparativeList&&this.originalRateComparativeList.length>0&&(this.rateComparativeList=e.value?this.originalRateComparativeList.filter(n=>new Date(n.date)==new Date(e.value)):this.originalRateComparativeList)}search(e,n){this.originalRateComparativeList&&this.originalRateComparativeList.length>0&&(this.rateComparativeList="site"==n?e.target.value?this.originalRateComparativeList.filter(i=>i.siteData.site_name.toLowerCase().includes(e.target.value.toLowerCase())):this.originalRateComparativeList:e.target.value?this.originalRateComparativeList.filter(i=>i.title.toLowerCase().includes(e.target.value.toLowerCase())):this.originalRateComparativeList)}getReqNO(){const e=this.http.get(`${b.N.api_path}${_.Fj}`);this.httpService.multipleRequests([e],{}).subscribe(n=>{n&&(this.purchaseList=n[0].data)})}reqNo(e){return this.purchaseList.filter(i=>i._id===e)[0].purchase_request_number}ngOnInit(){this.getReqNO(),this.permissions=JSON.parse(localStorage.getItem("loginData")),this.permissions=this.permissions.permissions[0].ParentChildchecklist[12]}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(A.s),t.Y36(C.o),t.Y36(U.eN))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-rate-approval-list"]],decls:45,vars:12,consts:[[2,"height","100px","background-color","#fff"],[2,"margin-top","50px","margin-left","20px"],["src","./assets/images/ratehead.svg"],[2,"font-family","Poppins","margin-top","40px","font-style","normal","font-weight","600","font-size","30px","color","#1E293B","margin-left","10px"],[1,"example-spacer"],[2,"width","1130px","border","2px solid #C5C5C5","margin-left","30px"],[2,"display","flex","flex-direction","row","font-family","Poppins","font-weight","600"],["routerLinkActive","active-link",2,"margin-top","20px","margin-left","30px","display","flex","cursor","pointer",3,"routerLink"],["src","./assets/images/box.svg"],[2,"color","#97989D","margin-left","5px","font-size","14px"],[2,"width","90px","margin-left","10px","margin-top","10px","border","1px dashed"],["routerLinkActive","active-link",2,"margin-top","20px","margin-left","10px","display","flex","cursor","pointer",3,"routerLink"],["src","./assets/images/approval.svg"],["src","./assets/images/rc.svg"],["src","./assets/images/app.svg"],[2,"color","#233A61","margin-left","5px","font-size","14px"],["src","./assets/images/po.svg"],[4,"ngIf","ngIfElse"],["noView",""],[2,"display","flex","flex-direction","row","gap","10px"],[2,"margin-left","40px","width","100%","margin-top","30px"],["appearance","outline",1,"searchbar"],["matSuffix",""],["matInput","","type","search","placeholder","search title",1,"search-input",3,"input"],[2,"margin-right","600px","margin-top","30px","display","flex","gap","10px"],[2,"margin-top","15px","color","#94A3B8","margin-left","40px"],["appearance","outline",1,"datebar"],["matInput","","placeholder","Date",3,"matDatepicker","click","dateChange"],["matSuffix","",3,"for"],["startPicker",""],[2,"margin-top","30px","display","flex","position","relative","right","570px","gap","10px"],[2,"margin-top","15px","color","#94A3B8"],["matInput","","placeholder","Site",3,"input"],[1,"custom-form-control",2,"position","relative"],["appearance","outline"],[3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"scroll-bar1",2,"width","93%"],[2,"direction","ltr !important","margin-top","-20px"],[4,"ngFor","ngForOf"],["class","no-record-found",4,"ngIf"],[3,"value"],[2,"color","#4272BF","width","300px","text-align","left","padding","10px","font-size","15px"],[2,"color","#000000"],[2,"border","1px solid #D9D9D9","height","30px"],[2,"color","#4272BF","width","200px","font-size","15px"],[2,"color","#4272BF","width","800px","text-align","left","padding","10px","font-size","15px"],["style","background-color: #233A61;color:#fff;width:200px;font-size: 14px;cursor: pointer;",3,"routerLink",4,"ngIf"],["style","background-color: #54AA52;color:#fff;width:200px;font-size: 14px;cursor: pointer;",3,"routerLink",4,"ngIf"],["style","background-color: #C7323B;color:#fff;width:200px;font-size: 14px;cursor: pointer;",3,"routerLink",4,"ngIf"],["style","background-color:rgb(26, 188, 254);color:#fff;width:200px;font-size: 14px;cursor: pointer;",3,"routerLink",4,"ngIf"],[2,"width","100px"],[2,"background-color","#233A61","color","#fff","width","200px","font-size","14px","cursor","pointer",3,"routerLink"],[2,"background-color","#54AA52","color","#fff","width","200px","font-size","14px","cursor","pointer",3,"routerLink"],[2,"background-color","#C7323B","color","#fff","width","200px","font-size","14px","cursor","pointer",3,"routerLink"],[2,"background-color","rgb(26, 188, 254)","color","#fff","width","200px","font-size","14px","cursor","pointer",3,"routerLink"],[1,"no-record-found"],["src","./assets/images/inbox_empty.png","alt",""],[2,"display","flex","justify-content","center","margin-top","2%","font-size","160%","font-weight","bolder","color","grey"]],template:function(e,n){if(1&e&&(t.TgZ(0,"mat-toolbar",0)(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"span",3),t._uU(4,"Rate Approval"),t.qZA(),t._UZ(5,"span",4),t.qZA(),t.TgZ(6,"div"),t._UZ(7,"hr",5),t.qZA(),t.TgZ(8,"div",6)(9,"div",7)(10,"div"),t._UZ(11,"img",8),t.qZA(),t.TgZ(12,"span",9),t._uU(13,"Purchase\xa0request"),t.qZA(),t.TgZ(14,"div"),t._UZ(15,"mat-divider",10),t.qZA()(),t.TgZ(16,"div",11)(17,"div"),t._UZ(18,"img",12),t.qZA(),t.TgZ(19,"span",9),t._uU(20,"Approvals"),t.qZA(),t.TgZ(21,"div"),t._UZ(22,"mat-divider",10),t.qZA()(),t.TgZ(23,"div",11)(24,"div"),t._UZ(25,"img",13),t.qZA(),t.TgZ(26,"span",9),t._uU(27,"Rate\xa0Comparative"),t.qZA(),t.TgZ(28,"div"),t._UZ(29,"mat-divider",10),t.qZA()(),t.TgZ(30,"div",11)(31,"div"),t._UZ(32,"img",14),t.qZA(),t.TgZ(33,"span",15),t._uU(34,"Rate\xa0Approvals"),t.qZA(),t.TgZ(35,"div"),t._UZ(36,"mat-divider",10),t.qZA()(),t.TgZ(37,"div",11)(38,"div"),t._UZ(39,"img",16),t.qZA(),t.TgZ(40,"span",9),t._uU(41,"Purchase\xa0orders"),t.qZA()()(),t.YNc(42,S,37,6,"ng-container",17),t.YNc(43,z,2,0,"ng-template",null,18,t.W1O)),2&e){const i=t.MAs(44);t.xp6(9),t.Q6J("routerLink",t.DdM(7,$)),t.xp6(7),t.Q6J("routerLink",t.DdM(8,E)),t.xp6(7),t.Q6J("routerLink",t.DdM(9,G)),t.xp6(7),t.Q6J("routerLink",t.DdM(10,K)),t.xp6(7),t.Q6J("routerLink",t.DdM(11,H)),t.xp6(5),t.Q6J("ngIf",n.permissions.childList[0].isSelected)("ngIfElse",i)}},dependencies:[u.sg,u.O5,f.rH,f.Od,w.ey,Z.KE,Z.R9,x.Mq,x.hl,x.nW,k.d,R.Hw,P.Nt,M.gD,O.Ye,r.JJ,r.oH],styles:[".mat-form-field-appearance-outline .mat-form-field-infix{padding:.6em;width:250px}mat-toolbar[_ngcontent-%COMP%]{height:100px;background-color:#fff}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}input[type=text][_ngcontent-%COMP%]{width:60%;border-radius:8px;padding:12px 20px;margin:8px 0;box-sizing:border-box;border:.5px solid #94A3B8;transition:.5s;outline:none;font-family:Poppins;font-size:15px}.requests[_ngcontent-%COMP%]{height:40px;width:1120px;background-color:#d9d9d9;display:flex;justify-content:space-around;align-items:center;margin-top:20px;margin-left:30px;font-size:15px}.innerreq[_ngcontent-%COMP%]{color:#233a61;font-family:Poppins;font-weight:600;font-style:normal;font-size:15px}.createreq[_ngcontent-%COMP%]{background-color:#233a61;color:#fff;height:40px;width:250px;margin-left:-80px;font-family:Poppins;font-weight:600;font-style:normal;font-size:15px;display:flex;align-items:center;justify-content:center}.searchbar[_ngcontent-%COMP%]{width:350px;border-radius:20px;font-family:Poppins}.datebar[_ngcontent-%COMP%]{width:180px;border-radius:20px;font-family:Poppins}table[_ngcontent-%COMP%]{font-family:Poppins,sans-serif!important;border-collapse:separate;border-spacing:0 25px;text-align:left;width:100%;font-size:12px;margin-left:30px;margin-bottom:20px;margin-right:-10px}td[_ngcontent-%COMP%]{border:none;text-align:center;padding:8px 1px;color:#233a61;font-style:normal;font-size:medium}tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f4f4f5!important}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f4f4f5!important}.scroll-bar1[_ngcontent-%COMP%]{height:600px;width:93%;margin-left:20px;margin-bottom:100px;margin-top:10px;overflow:auto;direction:rtl;overflow-x:hidden}[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px;height:7px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{border:1px solid lightgrey;border-radius:5px;background-color:#d3d3d3}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#1E293B;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:lightblue}.no-record-found[_ngcontent-%COMP%]{text-align:center;display:flex;gap:10px;flex-direction:column;align-items:center;justify-content:center}.no-record-found[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:188px}"]}),o})();var v=p(5938);function X(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",19)(2,"div"),t._uU(3),t.qZA(),t.TgZ(4,"div")(5,"input",20),t.NdJ("change",function(){const s=t.CHM(e).ngIf,l=t.oxw(2),d=l.index,g=l.$implicit,c=t.oxw().index,h=t.oxw();return t.KtG(h.handleCheckboxChange(c,d,g,s))}),t.qZA()()()()}if(2&o){const e=a.ngIf,n=t.oxw(2),i=n.index,s=n.$implicit,l=t.oxw().index,d=t.oxw();t.xp6(3),t.Oqu(e.vendor_name),t.xp6(2),t.Q6J("checked",d.VendorRate.has(l+"$"+i))("disabled",d.check(s,d.item,d.totalQuantity)&&!d.VendorRate.has(l+"$"+i))}}function tt(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"div"),t.YNc(2,X,6,3,"div",13),t.TgZ(3,"div",14)(4,"div",15),t._uU(5,"Rate"),t.qZA(),t.TgZ(6,"div",16),t._uU(7),t.qZA()(),t.TgZ(8,"div",14)(9,"div",15),t._uU(10,"Qty"),t.qZA(),t.TgZ(11,"div",16),t._uU(12),t.qZA()(),t.TgZ(13,"div",14)(14,"div",15),t._uU(15,"Subtotal"),t.qZA(),t.TgZ(16,"div",16),t._uU(17),t.ALo(18,"number"),t.qZA()(),t.TgZ(19,"div",14)(20,"div",15),t._uU(21,"Freight"),t.qZA(),t.TgZ(22,"div",16),t._uU(23),t.ALo(24,"number"),t.qZA()(),t.TgZ(25,"div",14)(26,"div",15),t._uU(27,"GST Amount"),t.qZA(),t.TgZ(28,"div",16),t._uU(29),t.ALo(30,"number"),t.qZA()(),t.TgZ(31,"div",17)(32,"div",15)(33,"strong"),t._uU(34,"Grand total"),t.qZA()(),t.TgZ(35,"div",16),t._uU(36),t.ALo(37,"number"),t.qZA()()(),t.BQk()),2&o){const e=t.oxw().$implicit,n=t.oxw().$implicit,i=t.oxw();t.xp6(2),t.Q6J("ngIf",i.findVendor(n.Vendor)),t.xp6(5),t.hij(" ",e.Rate," "),t.xp6(5),t.hij(" ",e.RequiredQuantity," "),t.xp6(5),t.hij(" ",t.xi3(18,7,e.SubTotalAmount,"1.2-2")," "),t.xp6(6),t.hij(" ",t.xi3(24,10,e.Freight,"1.2-2")," "),t.xp6(6),t.hij(" ",t.xi3(30,13,e.Total-e.SubTotalAmount-e.Freight,"1.2-2")," "),t.xp6(7),t.hij(" ",t.xi3(37,16,e.Total,"1.2-2")," ")}}function et(o,a){if(1&o&&(t.ynx(0),t.YNc(1,tt,38,19,"ng-container",12),t.BQk()),2&o){const e=a.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.item.item_id==n.item.item_id)}}function nt(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,et,2,1,"ng-container",8),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngForOf",e.items)}}let ot=(()=>{class o{constructor(e,n,i,s,l,d){this.formBuilder=e,this.snack=n,this.request=i,this.dialog=s,this.dialogRef=l,this.data=d,this.totalQuantity=0,this.VendorRate=new Map,this.selected=!1,this.item=d.item,this.vendorItems=d.vendorItems,this.fetchedVendorList=d.fetchedVendorList,this.pageData=d.pageData,console.log(this.pageData),this.pageData&&this.pageData.VendorRate&&this.pageData.totalQuantity&&(this.pageData.VendorRate.forEach((g,c)=>{this.VendorRate.set(c,g)}),this.totalQuantity=Number(this.pageData.totalQuantity))}onNoClick(){this.dialogRef.close({option:2,data:this.data})}onYesClick(){let e=[];this.VendorRate.forEach((n,i)=>{e.push(n)}),this.dialogRef.close({option:1,data:{VendorRate:this.VendorRate,totalQuantity:this.totalQuantity}})}handleCheckboxChange(e,n,i,s){let l=e+"$"+n;this.VendorRate.has(l)?this.deleteVendor(l,i,s):this.addVendor(l,i,s)}addVendor(e,n,i){console.log(n),this.totalQuantity+=Number(n.RequiredQuantity),n.vendor=i,this.VendorRate.set(e,n)}deleteVendor(e,n,i){this.totalQuantity-=n.RequiredQuantity,this.VendorRate.delete(e)}check(e,n,i){return console.log(n.qty),console.log(i),i+Number(e.RequiredQuantity)>n.qty}findVendor(e){return this.fetchedVendorList.find(n=>n._id==e)}onClickSubmit(){this.onYesClick()}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.qu),t.Y36(C.o),t.Y36(A.s),t.Y36(v.uw),t.Y36(v.so),t.Y36(v.WI))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-vendor-rate-listing"]],decls:21,vars:4,consts:[["mat-dialog-title","",1,"mat-dialog-title"],[1,"row","full-width"],[1,"col-md-9"],[1,"header-subtitle"],[1,"col-md-3"],[1,"float-end","close-icon",3,"click"],["mat-dialog-content","",1,"mat-dialog-content-cstm"],[1,"vendor-wapper"],[4,"ngFor","ngForOf"],[1,"footer-template"],["type","button",1,"cancel-btn","cstm-btn",3,"click"],["type","submit","color","primary",1,"cstm-btn","theme-btn-color",3,"click"],[4,"ngIf"],["class","vendor-name-cl",4,"ngIf"],[1,"vendor-value-cont"],[1,"vendor-value-label"],[1,"vendor-value"],[1,"vendor-value-cont",2,"background-color","#073B4C14"],[1,"vendor-name-cl"],[2,"display","flex","justify-content","space-between"],["type","checkbox",2,"width","20px",3,"checked","disabled","change"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3," Vendors rate "),t.TgZ(4,"div",3),t._uU(5),t.qZA(),t.TgZ(6,"div",3),t._uU(7),t.qZA(),t.TgZ(8,"div",3),t._uU(9),t.qZA()(),t.TgZ(10,"div",4)(11,"mat-icon",5),t.NdJ("click",function(){return n.onNoClick()}),t._uU(12,"close"),t.qZA()()()(),t.TgZ(13,"div",6)(14,"div",7),t.YNc(15,nt,2,1,"div",8),t.qZA()(),t.TgZ(16,"div",9)(17,"button",10),t.NdJ("click",function(){return n.onNoClick()}),t._uU(18," Cancel "),t.qZA(),t.TgZ(19,"button",11),t.NdJ("click",function(){return n.onClickSubmit()}),t._uU(20," Submit "),t.qZA()()),2&e&&(t.xp6(5),t.hij(" Item : ",n.item.item_name," "),t.xp6(2),t.hij(" Max Qty : ",n.item.qty," "),t.xp6(2),t.hij(" Remaning Qty to select: ",n.item.qty-n.totalQuantity," "),t.xp6(6),t.Q6J("ngForOf",n.vendorItems))},dependencies:[u.sg,u.O5,v.uh,v.xY,R.Hw,u.JJ],styles:[".mat-mdc-dialog-title[_ngcontent-%COMP%]{border-bottom:0;padding:14px;background:#f3f3f3;display:flex;justify-content:space-between;align-items:center;font-style:normal;font-weight:400;font-size:14px;line-height:16px;text-transform:capitalize;color:#28313b}.mat-mdc-dialog-content-cstm[_ngcontent-%COMP%]{padding-top:10px}.cancel-btn[_ngcontent-%COMP%]{background:#f3f3f3;color:#333}.space-btn[_ngcontent-%COMP%]{margin:0 5px}.mat-mdc-dialog-content[_ngcontent-%COMP%]{margin:0;padding:0 15px}.close-icon[_ngcontent-%COMP%]{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:13px;width:0px;margin-top:-5px;cursor:pointer}.vendor_list_table[_ngcontent-%COMP%]{width:100%;border-radius:5px;overflow:hidden}.vendor_list_table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#233a61;color:#fff;padding:10px 20px;font-weight:400}.vendor_list_table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 20px}.vendor_list_table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background:#eee}.cstm-btn[_ngcontent-%COMP%]{border:0;border-radius:4px;padding:10px 23px;outline:none}.cstm-btn.theme-btn-color[_ngcontent-%COMP%]{background-color:#233a61;color:#fff}.footer-template[_ngcontent-%COMP%]{text-align:center;border-top:1px solid #ccc;margin:30px 0 0;padding-top:22px;display:flex;align-items:center;justify-content:center;gap:10px}.cstm-input[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px;padding:5px 10px}.td-subtitle[_ngcontent-%COMP%]{font-size:11px;font-weight:400}.header-subtitle[_ngcontent-%COMP%]{font-size:14px;font-weight:400}.vendor-wapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:40px}.vendor-wapper[_ngcontent-%COMP%]   .vendor-name-cl[_ngcontent-%COMP%]{padding:6px 15px;background:#233a61;color:#fff}.vendor-wapper[_ngcontent-%COMP%]   .vendor-value-cont[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background:rgba(7,59,76,.0509803922);padding:6px 15px;margin-bottom:10px;gap:10px}.vendor-wapper[_ngcontent-%COMP%]   .vendor-value-cont[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80px;border:1px solid #ccc;border-radius:2px;padding:5px;outline:none}.vendor-wapper[_ngcontent-%COMP%]   .vendor-value-label[_ngcontent-%COMP%]{min-width:144px}"]}),o})();var it=p(4961),at=p(3546),N=p(1948);function rt(o,a){if(1&o&&(t.TgZ(0,"mat-option",50),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",null==e?null:e._id),t.xp6(1),t.hij(" ",null==e?null:e.name," ")}}function st(o,a){if(1&o&&(t.TgZ(0,"mat-option",50),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e._id),t.xp6(1),t.hij(" ",e.site_name," ")}}function pt(o,a){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.AsE(" ",e.tax.name,"(",e.tax.amount,"%) ")}}function lt(o,a){if(1&o&&(t.TgZ(0,"tbody")(1,"tr",57)(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td",58),t._uU(5),t.qZA(),t.TgZ(6,"td",58),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t.YNc(15,pt,2,2,"ng-container",49),t.qZA()()()),2&o){const e=a.$implicit,n=t.oxw(3);t.xp6(3),t.hij(" ",e.item_name," "),t.xp6(2),t.hij(" ",e.categoryDetail.name," "),t.xp6(2),t.hij(" ",e.subCategoryDetail.subcategory_name," "),t.xp6(2),t.hij(" ",e.uomDetail.uom_name," "),t.xp6(2),t.hij(" ",e.qty," "),t.xp6(2),t.Oqu(n.myBrandName(e.brandName)),t.xp6(2),t.Q6J("ngIf",e.tax&&e.tax.amount)}}function dt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",64)(1,"div",65)(2,"div"),t._uU(3),t.qZA(),t.TgZ(4,"div")(5,"input",66),t.NdJ("change",function(){const s=t.CHM(e).ngIf,l=t.oxw().ngIf,d=t.oxw().$implicit,g=t.oxw(3);return t.KtG(g.handleCheckboxChange(s._id,d,l))}),t.qZA()()()()}if(2&o){const e=a.ngIf,n=t.oxw(5);t.xp6(3),t.Oqu(e.vendor_name),t.xp6(2),t.Q6J("disabled",n.VendorRate.size>0&&!n.VendorRate.has(e._id))}}function ct(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,dt,6,2,"div",59),t.TgZ(2,"div",60)(3,"div",61),t._uU(4,"Rate"),t.qZA(),t.TgZ(5,"div",62),t._uU(6),t.ALo(7,"number"),t.qZA()(),t.TgZ(8,"div",60)(9,"div",61),t._uU(10,"Qty."),t.qZA(),t.TgZ(11,"div",62),t._uU(12),t.ALo(13,"number"),t.qZA()(),t.TgZ(14,"div",60)(15,"div",61),t._uU(16,"Subtotal"),t.qZA(),t.TgZ(17,"div",62),t._uU(18),t.ALo(19,"number"),t.qZA()(),t.TgZ(20,"div",60)(21,"div",61),t._uU(22,"Freight"),t.qZA(),t.TgZ(23,"div",62),t._uU(24),t.ALo(25,"number"),t.qZA()(),t.TgZ(26,"div",60)(27,"div",61),t._uU(28,"GST Amount"),t.qZA(),t.TgZ(29,"div",62),t._uU(30),t.ALo(31,"number"),t.qZA()(),t.TgZ(32,"div",63)(33,"div",61)(34,"strong"),t._uU(35,"Grand total"),t.qZA()(),t.TgZ(36,"div",62),t._uU(37),t.ALo(38,"number"),t.qZA()()()),2&o){const e=a.ngIf,n=t.oxw().$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("ngIf",i.findVendor(n.Vendor)),t.xp6(5),t.hij(" ",t.xi3(7,7,e.rate,"1.2-2")," "),t.xp6(6),t.hij(" ",t.xi3(13,10,e.qty,"1.2-2")," "),t.xp6(6),t.hij(" ",t.xi3(19,13,e.subTotal,"1.2-2")," "),t.xp6(6),t.hij(" ",t.xi3(25,16,e.freight,"1.2-2")," "),t.xp6(6),t.hij(" ",t.xi3(31,19,e.gstAmount,"1.2-2")," "),t.xp6(7),t.hij(" ",t.xi3(38,22,e.total,"1.2-2")," ")}}function gt(o,a){if(1&o&&(t.TgZ(0,"div")(1,"div"),t.YNc(2,ct,39,25,"div",49),t.qZA()()),2&o){const e=a.$implicit,n=t.oxw(3);t.xp6(2),t.Q6J("ngIf",n.vendorTotal(e.items))}}function ut(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"table",54)(2,"tr")(3,"th"),t._uU(4,"Item*"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Category"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Sub\xa0category"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Uom"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Quantity"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Brand Name"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Tax"),t.qZA()(),t.YNc(17,lt,16,7,"tbody",55),t.qZA(),t.TgZ(18,"div"),t._uU(19,"Select Vendor"),t.qZA(),t.TgZ(20,"div",56),t.YNc(21,gt,3,1,"div",55),t.qZA(),t.BQk()),2&o){const e=t.oxw(2);t.xp6(17),t.Q6J("ngForOf",null==e.details?null:e.details.items),t.xp6(4),t.Q6J("ngForOf",e.details.vendorItems)}}function mt(o,a){1&o&&t._uU(0," Vendor Comparison is not Applicable. ")}function _t(o,a){if(1&o&&(t.TgZ(0,"div",51),t.YNc(1,ut,22,2,"ng-container",52),t.YNc(2,mt,1,0,"ng-template",null,53,t.W1O),t.qZA()),2&o){const e=t.MAs(3),n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.CheckVendorComparision())("ngIfElse",e)}}function ft(o,a){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.AsE(" ",e.tax.name,"(",e.tax.amount,"%) ")}}function ht(o,a){1&o&&(t.ynx(0),t._uU(1," Completed "),t.BQk())}function xt(o,a){1&o&&t._uU(0," Pending ")}function vt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"tbody")(1,"tr",57)(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td",58),t._uU(5),t.qZA(),t.TgZ(6,"td",58),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t.YNc(15,ft,2,2,"ng-container",49),t.qZA(),t.TgZ(16,"td")(17,"a",67),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.vendorData(s))}),t._uU(18," Vendor Rates"),t.qZA()(),t.TgZ(19,"td"),t.YNc(20,ht,2,0,"ng-container",52),t.YNc(21,xt,1,0,"ng-template",null,68,t.W1O),t.qZA()()()}if(2&o){const e=a.$implicit,n=t.MAs(22),i=t.oxw(2);t.xp6(3),t.hij(" ",e.item_name," "),t.xp6(2),t.hij(" ",e.categoryDetail.name," "),t.xp6(2),t.hij(" ",e.subCategoryDetail.subcategory_name," "),t.xp6(2),t.hij(" ",e.uomDetail.uom_name," "),t.xp6(2),t.hij(" ",e.qty," "),t.xp6(2),t.Oqu(i.myBrandName(e.brandName)),t.xp6(2),t.Q6J("ngIf",e.tax&&e.tax.amount),t.xp6(5),t.Q6J("ngIf",i.ItemwiseVendorRate.has(e.item_id))("ngIfElse",n)}}function Zt(o,a){if(1&o&&(t.TgZ(0,"div",51)(1,"table",54)(2,"tr")(3,"th"),t._uU(4,"Item*"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Category"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Sub\xa0category"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Uom"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Quantity"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Brand Name"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Tax"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Vendors"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"Vendor Selection"),t.qZA()(),t.YNc(21,vt,23,9,"tbody",55),t.qZA()()),2&o){const e=t.oxw();t.xp6(21),t.Q6J("ngForOf",null==e.details?null:e.details.items)}}function bt(o,a){1&o&&(t.TgZ(0,"span"),t._uU(1,"Santion"),t.qZA())}function At(o,a){1&o&&(t.TgZ(0,"span"),t._uU(1,"Please wait..."),t.qZA())}function Ct(o,a){1&o&&(t.TgZ(0,"span"),t._uU(1,"Reject"),t.qZA())}function Tt(o,a){1&o&&(t.TgZ(0,"span"),t._uU(1,"Please wait..."),t.qZA())}function yt(o,a){1&o&&(t.TgZ(0,"span"),t._uU(1,"Revise"),t.qZA())}function qt(o,a){1&o&&(t.TgZ(0,"span"),t._uU(1,"Please wait..."),t.qZA())}const Ut=function(){return["/procurement"]},wt=function(){return["/procurement/prlist"]},kt=function(){return["/rate-comparative"]},Rt=function(){return["/rate-approval"]},Pt=function(){return["/purchase-order"]},Q=function(o){return{active:o}};let Mt=(()=>{class o{constructor(e,n,i,s,l,d,g,c){this.router=e,this.httpService=n,this.snack=i,this.formBuilder=s,this.route=l,this.dialog=d,this.http=g,this.userService=c,this.load=!1,this.VendorRate=new Map,this.ItemwiseVendorRate=new Map,this.compareBy="item",this.purchaseRequestForm=new r.cw({title:new r.NI({value:"",disabled:!0},r.kI.required),date:new r.NI({value:"",disabled:!0},r.kI.required),expected_delivery_date:new r.NI({value:"",disabled:!0},r.kI.required),handle_by:new r.NI({value:"",disabled:!0},r.kI.required),rate_approval_number:new r.NI(""),site:new r.NI({value:"",disabled:!0},r.kI.required),local_purchase:new r.NI({value:"",disabled:!0},r.kI.required),remarks:new r.NI({value:"",disabled:!0},[]),items:this.formBuilder.array([]),_id:new r.NI}),this.details={},this.users=[],this.getList(),this.getBrandList(),this.getVendorList(),this.userService.getUserss().subscribe(h=>{this.users=h})}vendorData(e){console.log(e),this.dialog.open(ot,{data:{item:e,vendorItems:this.details.vendorItems,fetchedVendorList:this.fetchedVendorList,pageData:this.ItemwiseVendorRate.get(e.item_id)}}).afterClosed().subscribe(i=>{console.log("result",i),i&&i.data&&i.data.VendorRate&&(i.data.VendorRate.size>0?this.ItemwiseVendorRate.set(e.item_id,i.data):this.ItemwiseVendorRate.delete(e.item_id))})}getList(){const e=this.http.get(`${b.N.api_path}${_.S3}`),n=this.http.get(`${b.N.api_path}${_.TK}`);this.httpService.multipleRequests([e,n],{}).subscribe(i=>{i&&(this.siteList=i[0].data,this.purchaseList=i[1].data,console.log("--purchaseListRAC--",this.purchaseList))})}compare(e){this.VendorRate.clear(),this.ItemwiseVendorRate.clear(),this.compareBy="vendor"==e?"vendor":"item"}patchData(e){this.purchaseRequestForm.patchValue({title:e.title,date:e.date,expected_delivery_date:e.expected_delivery_date,rate_approval_number:e.rate_approval_number,handle_by:e.handle_by,site:e.site,local_purchase:e.local_purchase,remarks:e.remarks}),this.curr_site=e.site,this.purchaseRequestForm.controls.remarks.disable()}createItemArrayForm(){return new r.cw({item_id:new r.NI("",r.kI.required),qty:new r.NI("",r.kI.required),category:new r.NI(""),subCategory:new r.NI(""),attachment:new r.NI(""),remark:new r.NI("",r.kI.required),uom:new r.NI("",r.kI.required)})}addItems(e){this.items=this.purchaseRequestForm.get("items"),e&&this.items.push(this.createItem(e))}createItem(e){if(e)return new r.cw({item_id:new r.NI(e.item_id,r.kI.required),qty:new r.NI(e.qty,r.kI.required),category:new r.NI(e.categoryDetail.name),subCategory:new r.NI(e.subCategoryDetail.subcategory_name),attachment:new r.NI(e.attachment),remark:new r.NI(e.remark,r.kI.required),uom:new r.NI(e.uomDetail._id,r.kI.required)})}getSiteList(){this.httpService.GET(_.S3,{}).subscribe(e=>{this.siteList=e})}getVendorList(){this.httpService.GET("/vendor",{}).subscribe(e=>{this.fetchedVendorList=e.data})}findVendor(e){return this.fetchedVendorList.find(n=>n._id==e)}CheckVendorComparision(){let e=!1;for(const n of this.details.vendorItems)if(n.items.length===this.details.items.length){e=!0;break}return e}vendorTotal(e){console.log("--item--"),console.log(e),console.log("--item--");let n=0,i=0,s=0,l=0,d=0,g=0;return e.forEach(c=>{n=c.SubTotalAmount,i=c.Total,s=c.Freight,l=i-n-s,d=c.Rate,g=c.RequiredQuantity}),{subTotal:n,gstAmount:l,total:i,freight:s,rate:d,qty:g}}handleCheckboxChange(e,n,i){this.VendorRate.has(e)?this.deleteVendor(e,n,i):this.addVendor(e,n,i)}deleteVendor(e,n,i){this.VendorRate.delete(e)}addVendor(e,n,i){this.VendorRate.set(e,{...n,...i})}getBrandList(){this.httpService.GET(_.Lk,{}).subscribe(e=>{this.brandList=e.data})}myBrandName(e){return this.brandList.filter(i=>i._id==e)[0].brand_name}updateRequest(e){if("revise"==e)this.details.status=e,this.details.stage="rate_comparitive";else if("rejected"==e)this.details.status=e;else{const i=this.siteList.find(m=>m._id==this.curr_site).site_name.replace(/[ ,]/g,"_"),s=(new Date).getFullYear(),l=s+1;String(s).slice(-2),String(l).slice(-2),console.log("dynamicDataFormatted---",i),console.log("purchaseList---",this.purchaseList);const c=this.purchaseList.filter(m=>m.billing_address.company_name.includes("Pragati Infra Solutions Pvt. Ltd."));console.log("filteredList---",c);const h=c.length+1;if(console.log("Pocount ---",h),this.po_no=h,console.log("po_no  ---",this.po_no),"vendor"==this.compareBy){let m=[];this.VendorRate.forEach((T,Jt)=>{m.push(T)}),this.details.vendorRatesVendorWise=m,this.details.compareBy=this.compareBy,this.details.po_number=this.po_no,this.details.Pocount=h,"revise"==this.details.status&&(this.details.isRevised=!0),this.details.status="approved"}else{let m=[];this.ItemwiseVendorRate.forEach((T,Jt)=>{T.VendorRate.forEach((Vt,Yt)=>{m.push(Vt)})}),this.details.vendorRatesItemWise=m,this.details.compareBy=this.compareBy,this.details.po_number=this.po_no,this.details.Pocount=h,"revise"==this.details.status&&(this.details.isRevised=!0),this.details.status="approved"}if(!this.purchaseRequestForm.valid)return}this.load=!0,this.httpService.PUT(_.lu,this.details).subscribe(n=>{this.snack.notify("Detail has been updated",1),this.router.navigate(["/rate-approval"]),this.load=!1},n=>{if(this.load=!1,n.errors&&!(0,q.isEmpty)(n.errors)){let i="<ul>";for(let s in n.errors)i+=`<li>${n.errors[s][0]}</li>`;i+="</ul>",this.snack.notifyHtml(i,2)}else this.snack.notify(n.message,2)})}ngOnInit(){this.route.params.subscribe(e=>{e.id&&this.httpService.GET(`${_.bG}`,{_id:e.id}).subscribe({next:n=>{this.details=n.data.details,this.patchData(n.data.details)}})})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.F0),t.Y36(A.s),t.Y36(C.o),t.Y36(r.qu),t.Y36(f.gz),t.Y36(v.uw),t.Y36(U.eN),t.Y36(it.f))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-rate-approval-update"]],decls:118,vars:36,consts:[[2,"height","100px","background-color","#fff"],[2,"margin-top","50px","margin-left","20px"],["src","./assets/images/RA.svg"],[2,"font-family","Poppins","margin-top","40px","font-style","normal","font-weight","600","font-size","30px","color","#1E293B","margin-left","10px"],[1,"example-spacer"],[2,"width","1130px","border","2px solid #C5C5C5","margin-left","30px"],[2,"display","flex","flex-direction","row","font-family","Poppins","font-weight","600"],[2,"margin-top","20px","margin-left","30px","display","flex"],["routerLinkActive","active-link",2,"margin-top","20px","margin-left","30px","display","flex","cursor","pointer",3,"routerLink"],["src","./assets/images/box.svg"],[2,"color","#97989D","margin-left","5px","font-size","14px"],[2,"width","90px","margin-left","10px","margin-top","10px","border","1px dashed"],["routerLinkActive","active-link",2,"margin-top","20px","margin-left","10px","display","flex","cursor","pointer",3,"routerLink"],["src","./assets/images/approval.svg"],["src","./assets/images/rc.svg"],["src","./assets/images/app.svg"],[2,"color","#233A61","margin-left","5px","font-size","14px"],["src","./assets/images/po.svg"],[3,"formGroup"],[1,"topcard"],[2,"display","flex","flex-wrap","wrap","gap","10px","max-width","100%"],[1,"flex-div",2,"display","flex","flex-direction","column"],[2,"color","#4272BF","font-size","14px"],["appearance","outline"],["placeholder","Enter title","formControlName","title","matInput",""],["matInput","","formControlName","date","placeholder","Auto generate Request Date","readonly","",3,"matDatepicker"],["matSuffix","",3,"for"],["date",""],[1,"flex-div","custom-form-group"],["for","",1,"custom-label",2,"color","#4272BF","font-size","14px"],[1,"star"],[1,"custom-form-control"],["matInput","","formControlName","expected_delivery_date","placeholder","Enter Required by","readonly","",3,"matDatepicker"],["requiredByStartDate",""],["matInput","","formControlName","handle_by"],[3,"value",4,"ngFor","ngForOf"],["id","site","placeholder","Select site","formControlName","site"],[1,"flex-div",2,"display","flex","flex-direction","column","margin-left","10px"],[2,"color","#4272BF","margin-bottom","10px"],["aria-labelledby","example-radio-group-label","color","primary","formControlName","local_purchase",1,"example-radio-group"],[1,"example-radio-button",2,"margin-right","10px",3,"value"],[1,"example-radio-button",3,"value"],[1,"requests"],[3,"ngClass","click"],["class","scroll-bar1",4,"ngIf"],[1,"text-area-section"],["name","","id","","cols","30","rows","5","formControlName","remarks"],[1,"button-list"],[1,"p-btns-button",3,"disabled","click"],[4,"ngIf"],[3,"value"],[1,"scroll-bar1"],[4,"ngIf","ngIfElse"],["noview",""],[2,"direction","ltr !important","border-left","2px solid #000 !important"],[4,"ngFor","ngForOf"],[1,"vendor-wapper"],[2,"background-color","#F4F4F5"],[2,"color","#000"],["class","vendor-name-cl",4,"ngIf"],[1,"vendor-value-cont"],[1,"vendor-value-label"],[1,"vendor-value"],[1,"vendor-value-cont",2,"background-color","#073B4C14"],[1,"vendor-name-cl"],[2,"display","flex","justify-content","space-between"],["type","checkbox",2,"width","20px",3,"disabled","change"],[1,"p-btns",3,"click"],["pendingView",""]],template:function(e,n){if(1&e&&(t.TgZ(0,"mat-toolbar",0)(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"span",3),t._uU(4,"Rate Approval "),t.qZA(),t._UZ(5,"span",4),t.qZA(),t.TgZ(6,"div"),t._UZ(7,"hr",5),t.qZA(),t.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div"),t._UZ(12,"img",9),t.qZA(),t.TgZ(13,"span",10),t._uU(14,"Purchase\xa0request"),t.qZA(),t.TgZ(15,"div"),t._UZ(16,"mat-divider",11),t.qZA()(),t.TgZ(17,"div",12)(18,"div"),t._UZ(19,"img",13),t.qZA(),t.TgZ(20,"span",10),t._uU(21,"Approvals"),t.qZA(),t.TgZ(22,"div"),t._UZ(23,"mat-divider",11),t.qZA()(),t.TgZ(24,"div",12)(25,"div"),t._UZ(26,"img",14),t.qZA(),t.TgZ(27,"span",10),t._uU(28,"Rate\xa0Comparative"),t.qZA(),t.TgZ(29,"div"),t._UZ(30,"mat-divider",11),t.qZA()(),t.TgZ(31,"div",12)(32,"div"),t._UZ(33,"img",15),t.qZA(),t.TgZ(34,"span",16),t._uU(35,"Rate\xa0Approvals"),t.qZA(),t.TgZ(36,"div"),t._UZ(37,"mat-divider",11),t.qZA()(),t.TgZ(38,"div",12)(39,"div"),t._UZ(40,"img",17),t.qZA(),t.TgZ(41,"span",10),t._uU(42,"Purchase\xa0orders"),t.qZA()()()(),t.TgZ(43,"form",18)(44,"mat-card",19)(45,"div",20)(46,"div",21)(47,"label",22),t._uU(48,"Request title "),t.qZA(),t.TgZ(49,"mat-form-field",23),t._UZ(50,"input",24),t.qZA()(),t.TgZ(51,"div",21)(52,"label",22),t._uU(53,"Request date"),t.qZA(),t.TgZ(54,"mat-form-field",23),t._UZ(55,"input",25)(56,"mat-datepicker-toggle",26)(57,"mat-datepicker",null,27),t.qZA()(),t.TgZ(59,"div",28)(60,"label",29),t._uU(61," Required by "),t.TgZ(62,"span",30),t._uU(63,"*"),t.qZA()(),t.TgZ(64,"div",31)(65,"mat-form-field",23),t._UZ(66,"input",32)(67,"mat-datepicker-toggle",26)(68,"mat-datepicker",null,33),t.qZA()()(),t.TgZ(70,"div",28)(71,"label",29),t._uU(72," Handle by "),t.TgZ(73,"span",30),t._uU(74,"*"),t.qZA()(),t.TgZ(75,"div",31)(76,"mat-form-field",23)(77,"mat-select",34),t.YNc(78,rt,2,2,"mat-option",35),t.qZA()()()(),t.TgZ(79,"div",21)(80,"label",22),t._uU(81,"Site name "),t.TgZ(82,"span",30),t._uU(83,"*"),t.qZA()(),t.TgZ(84,"mat-form-field",23)(85,"mat-select",36),t.YNc(86,st,2,2,"mat-option",35),t.qZA()()(),t.TgZ(87,"div",37)(88,"label",38),t._uU(89,"Local Purchase "),t.TgZ(90,"span",30),t._uU(91,"*"),t.qZA()(),t.TgZ(92,"mat-radio-group",39)(93,"mat-radio-button",40),t._uU(94," Yes "),t.qZA(),t.TgZ(95,"mat-radio-button",41),t._uU(96," No "),t.qZA()()()()(),t.TgZ(97,"div",42)(98,"div",43),t.NdJ("click",function(){return n.compare("vendor")}),t._uU(99,"Compare By Vendor"),t.qZA(),t.TgZ(100,"div",43),t.NdJ("click",function(){return n.compare("item")}),t._uU(101,"Compare by Items"),t.qZA()(),t.YNc(102,_t,4,2,"div",44),t.YNc(103,Zt,22,1,"div",44),t.TgZ(104,"div",45)(105,"label",22),t._uU(106,"Remarks "),t.qZA(),t._UZ(107,"textarea",46),t.qZA(),t.TgZ(108,"div",47)(109,"button",48),t.NdJ("click",function(){return n.updateRequest("approved")}),t.YNc(110,bt,2,0,"span",49),t.YNc(111,At,2,0,"span",49),t.qZA(),t.TgZ(112,"button",48),t.NdJ("click",function(){return n.updateRequest("rejected")}),t.YNc(113,Ct,2,0,"span",49),t.YNc(114,Tt,2,0,"span",49),t.qZA(),t.TgZ(115,"button",48),t.NdJ("click",function(){return n.updateRequest("revise")}),t.YNc(116,yt,2,0,"span",49),t.YNc(117,qt,2,0,"span",49),t.qZA()()()),2&e){const i=t.MAs(58),s=t.MAs(69);t.xp6(10),t.Q6J("routerLink",t.DdM(27,Ut)),t.xp6(7),t.Q6J("routerLink",t.DdM(28,wt)),t.xp6(7),t.Q6J("routerLink",t.DdM(29,kt)),t.xp6(7),t.Q6J("routerLink",t.DdM(30,Rt)),t.xp6(7),t.Q6J("routerLink",t.DdM(31,Pt)),t.xp6(5),t.Q6J("formGroup",n.purchaseRequestForm),t.xp6(12),t.Q6J("matDatepicker",i),t.xp6(1),t.Q6J("for",i),t.xp6(10),t.Q6J("matDatepicker",s),t.xp6(1),t.Q6J("for",s),t.xp6(11),t.Q6J("ngForOf",n.users),t.xp6(8),t.Q6J("ngForOf",n.siteList),t.xp6(7),t.Q6J("value","yes"),t.xp6(2),t.Q6J("value","no"),t.xp6(3),t.Q6J("ngClass",t.VKq(32,Q,"vendor"==n.compareBy)),t.xp6(2),t.Q6J("ngClass",t.VKq(34,Q,"item"==n.compareBy)),t.xp6(2),t.Q6J("ngIf","vendor"==n.compareBy),t.xp6(1),t.Q6J("ngIf","item"==n.compareBy),t.xp6(6),t.Q6J("disabled",n.load),t.xp6(1),t.Q6J("ngIf",!n.load),t.xp6(1),t.Q6J("ngIf",n.load),t.xp6(1),t.Q6J("disabled",n.load),t.xp6(1),t.Q6J("ngIf",!n.load),t.xp6(1),t.Q6J("ngIf",n.load),t.xp6(1),t.Q6J("disabled",n.load),t.xp6(1),t.Q6J("ngIf",!n.load),t.xp6(1),t.Q6J("ngIf",n.load)}},dependencies:[u.mk,u.sg,u.O5,f.rH,f.Od,w.ey,Z.KE,Z.R9,at.a8,x.Mq,x.hl,x.nW,k.d,P.Nt,N.VQ,N.U0,M.gD,O.Ye,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,u.JJ],styles:['mat-toolbar[_ngcontent-%COMP%]{height:100px;background-color:#fff}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.requests[_ngcontent-%COMP%]{height:40px;width:1140px;background-color:#d9d9d9;display:flex;justify-content:space-around;align-items:center;margin-top:20px;margin-left:30px;font-size:14px}.requests[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:40px;width:250px;font-family:Poppins;font-weight:600;font-style:normal;font-size:14px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;flex:1}.requests[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2)}.requests[_ngcontent-%COMP%]   div.active[_ngcontent-%COMP%]{background-color:#233a61!important;color:#fff}.innerreq[_ngcontent-%COMP%]{color:#233a61;font-family:Poppins;font-weight:600;font-style:normal;font-size:14px}.createreq[_ngcontent-%COMP%]{background-color:#233a61;color:#fff;height:40px;width:250px;margin-left:-80px;font-family:Poppins;font-weight:600;font-style:normal;font-size:14px;display:flex;align-items:center;justify-content:center}.topcard[_ngcontent-%COMP%]{width:100%;height:auto;font-family:Poppins;box-shadow:none;border:1px solid #ccc;border-radius:4px}table[_ngcontent-%COMP%]{font-family:Poppins,sans-serif!important;border-collapse:collapse;font-size:14px;margin-bottom:20px;margin-right:20px;margin-top:8px}th[_ngcontent-%COMP%]{background-color:#233a61;border:1px solid #94a3b8;text-align:left;padding:10px 40px!important;color:#fff;font-weight:100;font-size:14px;font-style:normal}td[_ngcontent-%COMP%]{border:1px solid #94a3b8;text-align:left;padding:20px;color:#233a61;font-style:normal;font-size:14px;font-family:Poppins}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#e5e6eb!important}form[_ngcontent-%COMP%]{padding:10px 20px}.scroll-bar1[_ngcontent-%COMP%]{margin-top:50px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px;height:7px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{border:1px solid lightgrey;border-radius:5px;background-color:#d3d3d3}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#1e293b;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:lightblue}.pr-form-field[_ngcontent-%COMP%]{width:120px;padding:10px;border-radius:6px;border:1px solid #9f9f9f;cursor:pointer;background-color:"Transparent"}.select-form-field[_ngcontent-%COMP%]{padding:10px;width:150px;border:1px solid #9f9f9f;border-radius:20px;cursor:pointer;background-color:"Transparent "!important}.action-btn-wrapper[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;justify-content:center}.action-btn-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;padding:5px}.action-btn-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#233a61;opacity:.8;font-size:13px}.action-btn-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.7}.button-list[_ngcontent-%COMP%]{display:inline-flex;margin:15px 0 20px;float:right;gap:10px}.text-area-section[_ngcontent-%COMP%]{width:100%;height:auto;margin:30px 0 0}.text-area-section[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:block;width:100%}.flex-div[_ngcontent-%COMP%]{width:31%}.mat-form-field[_ngcontent-%COMP%]{display:block}.pending[_ngcontent-%COMP%]{padding:8px;width:120px;background-color:#ccc;color:#333;font-size:14px;font-family:Poppins;height:50px;border:none}.p-btns[_ngcontent-%COMP%]{background:#233a61;padding:5px 10px;border-radius:4px;font-size:12px;cursor:pointer}.p-btns[_ngcontent-%COMP%]:hover{opacity:.7}.p-btns-button[_ngcontent-%COMP%]{background:#233a61;border:1px solid #233a61;padding:7px 40px;border-radius:4px;font-size:12px;cursor:pointer;color:#fff}.p-btns-button[_ngcontent-%COMP%]:hover{opacity:.7}.vendor-wapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:40px}.vendor-wapper[_ngcontent-%COMP%]   .vendor-name-cl[_ngcontent-%COMP%]{padding:6px 15px;background:#233a61;color:#fff}.vendor-wapper[_ngcontent-%COMP%]   .vendor-value-cont[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background:rgba(7,59,76,.0509803922);padding:6px 15px;margin-bottom:10px;gap:10px}.vendor-wapper[_ngcontent-%COMP%]   .vendor-value-cont[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80px;border:1px solid #ccc;border-radius:2px;padding:5px;outline:none}.vendor-wapper[_ngcontent-%COMP%]   .vendor-value-label[_ngcontent-%COMP%]{min-width:144px}input[readonly=true][_ngcontent-%COMP%], input[readonly][_ngcontent-%COMP%], .mat-select-disabled[_ngcontent-%COMP%]{opacity:.6}']}),o})();var Ot=p(9836),Lt=p(8898),It=p(1283);const Nt=[{path:"",component:W},{path:"update/:id",component:Mt}];let Qt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.ez,f.Bz,Lt.S,r.UX,Ot.w,It.Z,[f.Bz.forChild(Nt)]]}),o})()}}]);