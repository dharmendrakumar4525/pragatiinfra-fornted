"use strict";(self.webpackChunkpra=self.webpackChunkpra||[]).push([[325],{4325:(E,_,a)=>{a.r(_),a.d(_,{StructureModule:()=>U});var m=a(6895),O=a(5861),u=a(8608),c=a(4006),p=a(5938),g=a(7489),t=a(4650),h=a(9299),C=a(8507),x=a(6104),f=a(9549),M=a(4859),v=a(4144);function P(o,s){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," this field is required. "),t.qZA())}function T(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.onYesClick())}),t.TgZ(1,"span"),t._uU(2,"Submit"),t.qZA()()}}function k(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.onUpdateClick())}),t.TgZ(1,"span"),t._uU(2,"Update"),t.qZA()()}}let y=(()=>{class o{constructor(n,e,i,r,l){this.dialogRef=n,this.data=e,this.router=i,this.httpService=r,this.snack=l,this.addForm=new c.cw({structure_name:new c.NI("",c.kI.required),_id:new c.NI("")}),e&&e.id&&this.httpService.GET(`${u.Y0}/detail`,{_id:e.id}).subscribe(d=>{d&&this.patchValue(d.data)},d=>{if(d.errors&&!(0,g.isEmpty)(d.errors)){let b="<ul>";for(let w in d.errors)b+=`<li>${d.errors[w][0]}</li>`;b+="</ul>",this.snack.notifyHtml(b,2)}else this.snack.notify(d.message,2)})}patchValue(n){this.addForm.patchValue({structure_name:n.structure_name,_id:n._id})}onYesClick(){this.addForm.valid?this.httpService.POST(u.Y0,{structure_name:this.addForm.value.structure_name}).subscribe(n=>{this.snack.notify(" Data has been saved sucessfully.",1),this.dialogRef.close({option:1,data:this.data})},n=>{if(n.errors&&!(0,g.isEmpty)(n.errors)){let e="<ul>";for(let i in n.errors)e+=`<li>${n.errors[i][0]}</li>`;e+="</ul>",this.snack.notifyHtml(e,2)}else this.snack.notify(n.message,2)}):this.addForm.markAllAsTouched()}onUpdateClick(){this.addForm.valid?this.httpService.PUT(u.Y0,this.addForm.value).subscribe(n=>{this.snack.notify("Data has been saved sucessfully.",1),this.dialogRef.close({option:1,data:this.data})},n=>{if(n.errors&&!(0,g.isEmpty)(n.errors)){let e="<ul>";for(let i in n.errors)e+=`<li>${n.errors[i][0]}</li>`;e+="</ul>",this.snack.notifyHtml(e,2)}else this.snack.notify(n.message,2)}):this.addForm.markAllAsTouched()}onNoClick(){this.dialogRef.close({option:2,data:this.data})}ngOnInit(){}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(p.so),t.Y36(p.WI),t.Y36(h.F0),t.Y36(C.s),t.Y36(x.o))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-data"]],decls:17,vars:4,consts:[["mat-dialog-title","",1,"mat-dialog-title"],["mat-dialog-content","",1,"mat-dialog-content-cstm"],[3,"formGroup"],[1,"row"],[1,"col-md-12"],["appearance","outline"],["matInput","","formControlName","structure_name"],[4,"ngIf"],[2,"text-align","center","margin-bottom","5px"],["mat-raised-button","","cdkFocusInitial","",1,"cancel-btn","space-btn",3,"click"],["mat-raised-button","","class","space-btn theme-btn-color","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",1,"space-btn","theme-btn-color",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"h1",0),t._uU(1," Add Structure\n"),t.qZA(),t.TgZ(2,"div",1)(3,"form",2)(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),t._uU(8,"Structure Name"),t.qZA(),t._UZ(9,"input",6),t.YNc(10,P,2,0,"mat-error",7),t.qZA()()()()(),t.TgZ(11,"div",8)(12,"button",9),t.NdJ("click",function(){return e.onNoClick()}),t.TgZ(13,"span"),t._uU(14," Cancel"),t.qZA()(),t.YNc(15,T,3,0,"button",10),t.YNc(16,k,3,0,"button",10),t.qZA()),2&n&&(t.xp6(3),t.Q6J("formGroup",e.addForm),t.xp6(7),t.Q6J("ngIf",null==e.addForm.controls.structure_name.errors?null:e.addForm.controls.structure_name.errors.required),t.xp6(5),t.Q6J("ngIf",!e.data),t.xp6(1),t.Q6J("ngIf",e.data&&e.data.id))},dependencies:[f.TO,f.KE,f.hX,M.lW,p.uh,p.xY,v.Nt,m.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u],styles:[".section-wrapper[_ngcontent-%COMP%]{padding:0 15px}.section-wrapper[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{border-bottom:2px solid #C5C5C5;display:flex;align-items:center;justify-content:space-between;padding:18px 0}.section-wrapper[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.buttons-containers[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px}.submit-btn[_ngcontent-%COMP%]{background:#233a61;color:#fff}.cancel-btn[_ngcontent-%COMP%]{background:#ccc}.section-body[_ngcontent-%COMP%]{padding:20px 0 0}mat-form-field[_ngcontent-%COMP%]{display:block}.theme-btn-color[_ngcontent-%COMP%]{margin-left:15px}"]}),o})();var Z=a(9715),A=a(445);function D(o,s){1&o&&(t.ynx(0),t._uU(1," No data found "),t.BQk())}function L(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"tr")(1,"td",16),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"div",17)(7,"a",18),t.NdJ("click",function(){const r=t.CHM(n).$implicit,l=t.oxw(2);return t.KtG(l.edit(r._id))}),t._UZ(8,"i",19),t.qZA(),t.TgZ(9,"a",20),t.NdJ("click",function(){const r=t.CHM(n).$implicit,l=t.oxw(2);return t.KtG(l.delete(r._id))}),t._UZ(10,"i",21),t.qZA()()()()}if(2&o){const n=s.$implicit,e=s.index;t.xp6(2),t.Oqu(e+1),t.xp6(2),t.Oqu(n.structure_name)}}function N(o,s){if(1&o&&(t.ynx(0),t.YNc(1,L,11,2,"tr",15),t.BQk()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.structureList)}}let F=(()=>{class o{constructor(n,e,i,r,l){this.router=n,this.httpService=e,this.excelService=i,this.snack=r,this.dialog=l,this.structureList=[],this.list=[],this.getList()}getList(){this.httpService.GET(u.Y0,{}).subscribe(n=>{n&&n.data&&(this.structureList=n.data,this.list=n.data)},n=>{if(n.errors&&!(0,g.isEmpty)(n.errors)){let e="<ul>";for(let i in n.errors)e+=`<li>${n.errors[i][0]}</li>`;e+="</ul>",this.snack.notifyHtml(e,2)}else this.snack.notify(n.message,2)})}edit(n){this.dialog.open(y,{data:{id:n}}).afterClosed().subscribe(i=>{i&&1===i.option&&this.getList()})}add(){this.dialog.open(y,{}).afterClosed().subscribe(e=>{e&&1===e.option&&this.getList()})}delete(n){this.httpService.DELETE(u.Y0,{_id:n}).subscribe(e=>{e&&(this.snack.notify(" record has been deleted sucessfully.",1),this.getList())},e=>{if(e.errors&&!(0,g.isEmpty)(e.errors)){let i="<ul>";for(let r in e.errors)i+=`<li>${e.errors[r][0]}</li>`;i+="</ul>",this.snack.notifyHtml(i,2)}else this.snack.notify(e.message,2)})}search(n){this.structureList=n.target.value?this.list.filter(e=>e.structure_name.toLowerCase().includes(n.target.value.toLowerCase())):this.list}exportXlSX(){var n=this;return(0,O.Z)(function*(){n.excelService.mapArrayToExcel("Structure",["Structure Name\t"],["structure_name"],["string"],n.structureList)})()}ngOnInit(){}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(h.F0),t.Y36(C.s),t.Y36(Z.x),t.Y36(x.o),t.Y36(p.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-listing"]],decls:28,vars:2,consts:[[1,"section-wrapper"],[1,"section-header"],[1,"header-left"],[1,"header-right"],[1,"buttons-containers"],[1,"filter-con"],["dir","ltr",1,"labeled-outlined-field-wrapper"],["appearance","outline",1,"full-width","drop-down","outline-filter-field","hide-form-bottom-field"],["matInput","","placeholder","Search by name",3,"input"],["mat-button","",1,"submit-btn",3,"click"],["mat-button","",1,"other-btn",3,"click"],[1,"section-body"],[1,"table","pragati-table"],["scope","col"],[4,"ngIf"],[4,"ngFor","ngForOf"],["scope","row"],[1,"action-btn-wrapper"],["title","Edit",1,"action-btn",3,"click"],[1,"fa","fa-edit"],["title","Delete",1,"action-btn",3,"click"],[1,"fa","fa-trash"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4,"Structure Master"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"mat-form-field",7)(10,"input",8),t.NdJ("input",function(r){return e.search(r)}),t.qZA()()()(),t.TgZ(11,"button",9),t.NdJ("click",function(){return e.add()}),t._uU(12,"Add New"),t.qZA(),t.TgZ(13,"button",10),t.NdJ("click",function(){return e.exportXlSX()}),t._uU(14,"Export"),t.qZA()()()(),t.TgZ(15,"div",11)(16,"table",12)(17,"thead")(18,"tr")(19,"th",13),t._uU(20,"SN."),t.qZA(),t.TgZ(21,"th",13),t._uU(22,"Structure Name"),t.qZA(),t.TgZ(23,"th",13),t._uU(24,"Action"),t.qZA()()(),t.TgZ(25,"tbody"),t.YNc(26,D,2,0,"ng-container",14),t.YNc(27,N,2,1,"ng-container",14),t.qZA()()()()),2&n&&(t.xp6(26),t.Q6J("ngIf",e.structureList&&0==e.structureList.length),t.xp6(1),t.Q6J("ngIf",e.structureList&&e.structureList.length>0))},dependencies:[A.Lv,f.KE,M.lW,v.Nt,m.sg,m.O5],styles:[".section-wrapper[_ngcontent-%COMP%]{padding:0 15px}.section-wrapper[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{border-bottom:2px solid #C5C5C5;display:flex;align-items:center;justify-content:space-between;padding:18px 0}.section-wrapper[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.buttons-containers[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px}.submit-btn[_ngcontent-%COMP%]{background:#233a61;color:#fff;font-size:12px;padding-left:23px;padding-right:23px}.submit-btn[_ngcontent-%COMP%]:hover{opacity:.7}.cancel-btn[_ngcontent-%COMP%]{background:#ccc;font-size:12px;padding-left:23px;padding-right:23px}.cancel-btn[_ngcontent-%COMP%]:hover{opacity:.7}.other-btn[_ngcontent-%COMP%]{background:#525252;color:#fff;font-size:12px;padding-left:23px;padding-right:23px}.other-btn[_ngcontent-%COMP%]:hover{opacity:.7}.section-body[_ngcontent-%COMP%]{padding:20px 0 0}mat-form-field[_ngcontent-%COMP%]{display:block}.pragati-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#233A61;color:#fff;font-weight:400;font-size:12px;border:.5px solid #94A3B8;text-align:center;vertical-align:middle}.pragati-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-left:.5px solid #94A3B8;border-right:.5px solid #94A3B8;font-weight:400;font-size:12px;background:#F4F4F5;text-align:center;vertical-align:middle}.pragati-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%]{background:#D9DADE}.pragati-table[_ngcontent-%COMP%]   .action-btn-wrapper[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;justify-content:center}.pragati-table[_ngcontent-%COMP%]   .action-btn-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;padding:5px}.pragati-table[_ngcontent-%COMP%]   .action-btn-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#233a61;opacity:.8;font-size:13px}.pragati-table[_ngcontent-%COMP%]   .action-btn-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.7}"]}),o})();var S=a(8898);const Y=[{path:"",component:F}];let U=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[S.S,m.ez,c.UX,[h.Bz.forChild(Y)]]}),o})()}}]);